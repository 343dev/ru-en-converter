- var isCSSDeferred = true;

doctype html
html.no-js(lang="en")
  head
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    meta(http-equiv="X-UA-Compatible" content="ie=edge")
    meta(name="msapplication-TileColor" content="#2b5797")
    meta(name="theme-color" content="#f1f3f5")

    block title
      title Untitled

    if !isCSSDeferred
      // inject:css
      // endinject

    script.
      var $html = document.documentElement;
      $html.className = $html.className.replace('no-js', '');

    link(rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png")
    link(rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png")
    link(rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png")
    link(rel="manifest" href="/site.webmanifest")
    link(rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#339af0")

  body.page
    block body
      p Content block

    ='\n\n'
    // JavaScript
    // inject:js
    // endinject

    if isCSSDeferred
      script.
        window.addEventListener('DOMContentLoaded', function() {
          // Loading CSS without blocking render
          var noscript = document.getElementById('deferred-styles'),
              div = document.createElement('div');
          div.innerHTML = noscript.textContent;
          document.body.appendChild(div);
          noscript.parentElement.removeChild(noscript);
        });

      ='\n\n'
      // CSS
      ='\n'
      noscript#deferred-styles
        // inject:css
        // endinject
      ='\n'

